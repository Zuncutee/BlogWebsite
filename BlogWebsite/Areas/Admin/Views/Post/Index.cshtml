@*@using X.PagedList;
@using X.PagedList.Mvc.Core
@using X.PagedList.Web.Common
@model IPagedList<Blog.ViewModels.PostVM>*@
@{
    ViewData["Title"] = "List of Posts";
}

<div class="container-fluid">
    <a class="btn btn-primary mb-2" asp-action="CreatePost" asp-controller="Post" asp-area="Admin">Add Post</a>
    <div class="card">
        <div class="card-header bg-primary">
            <h4 class="card-title text-white">List of Posts</h4>
            <form asp-area="Admin" asp-controller="Post" asp-action="Index" method="get" class="input-group px-lg-1 py-2 py-lg-3">
                <div class="form-outline">
                    <input id="search-input" name="keyword" type="search" placeholder="Search..." class="form-control form-control-sm box-shadow" style="border-bottom-left-radius:30px;border-top-left-radius:30px;" />
                </div>
                <button type="submit" class="btn btn-sm btn-secondary" style="border-bottom-right-radius:30px;border-top-right-radius:30px;">
                    <i class="fa-solid fa-magnifying-glass" style="color: #ffffff;"></i>
                </button>
            </form>
        </div>
        <div class="card-body" style="background-color:lightgray;">
            @foreach (var posts in Model)
            {
                <div class="rounded mb-4 bg-white p-1">
                    <div class="row">
                        <div class="col-2">
                            @if (posts.ThumbnailUrl == null)
                            {
                                <img class="img-fluid" src="~/thumbnails/default_image.png" style="object-fit:cover; height: 100%; width:100%;">
                            }
                            else
                            {
                                <img class="img-fluid" src="~/thumbnails/@posts.ThumbnailUrl" style="object-fit:cover; height: 100%; width:100%;">

                            }
                        </div>
                        <div class="col-5">
                            <h4 style="font-size:25px; font-weight: bolder;" class="text-primary fw-bold">@posts.Title</h4>
                            <p>@posts.AuthorName</p>
                            <p>@posts.CreateDate</p>
                        </div>
                        <div class="col-5 text-right d-flex justify-content-center flex-column">
                            <div class="d-flex justify-content-end">
                                <a class="btn btn-warning btn-sm" asp-area="Admin" asp-action="Edit" asp-controller="Post" asp-route-id="@posts.Id" method="post">Edit</a>
                                <form asp-area="Admin" asp-action="Delete" asp-controller="Post" asp-route-id="@posts.Id" method="post" onsubmit="return confirm('Do you want to delete this post?')">
                                    <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                </form>
                            </div>
                        </div>
                    </div>

                </div>
            }
        </div>
        @*<div class="card-footer">
            Page @(Model?.PageCount < Model?.PageNumber ? 0 : Model?.PageNumber) of @Model?.PageCount
            @Html.PagedListPager(Model,page => Url.Action("Index",
            new { page, sortOrder = ViewBag.CurrentSort, currentFilter = ViewBag.CurrentFilter }),
            new PagedListRenderOptions()
            {
            ContainerDivClasses = new List<string> {"blog","navigation"},
            UlElementClasses = new List<string> {"pagination"},
            LiElementClasses = new List<string> {"page-item","page-link"},
            ActiveLiElementClass =  "active",
            })
        </div>*@
    </div>
</div>